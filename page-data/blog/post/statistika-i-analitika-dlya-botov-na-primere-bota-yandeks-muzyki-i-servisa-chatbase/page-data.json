{"componentChunkName":"component---src-templates-post-jsx","path":"/blog/post/statistika-i-analitika-dlya-botov-na-primere-bota-yandeks-muzyki-i-servisa-chatbase","result":{"data":{"prismicPost":{"id":"Prismic__Post__XokvOBAAACIArbCH","uid":"statistika-i-analitika-dlya-botov-na-primere-bota-yandeks-muzyki-i-servisa-chatbase","first_publication_date":"2020-04-05T01:07:06+0000","last_publication_date":"2020-04-05T01:07:06+0000","data":{"title":{"text":"Статистика и аналитика для ботов на примере бота Яндекс.Музыки и сервиса Chatbase"},"description":"Пару слов о сервисе. В далёком 2017 году компашка людей из гугла запилила сервис для ботов с ИИ. Гугл взяла их под крылышко и сервис считается гугловым.\n\nСам сервис заточен конкретно на ботов, которые на нейронках генерят ответы пользователю. Собсна название говорит само за себя, однако! Однако еще в 2017 году я начал использовать его как аналитику для обычных ботов. Тогда выбор был не очень большой. Был Botan.io (эдакий мост между яндекс аппметрикой и ботами, раньше я использовал его, сейчас проект мёртв). К сожалению и chatbase не развивается, застрял в 17 году. Пытается выглядеть законченным продуктом.","date":"05.01.2020","categories":[{"category":{"document":[{"id":"Prismic__Category__Xm56eREAACMACBYT","uid":"poznavatelno","data":{"name":"Познавательно"}}]}}],"body":[{"__typename":"PrismicPostBodyText","slice_type":"text","id":"Prismic__PostBodyText__Prismic__Post__XokvOBAAACIArbCH__body__0","primary":{"text":{"html":"<p>Пару слов о сервисе. В далёком 2017 году компашка людей из гугла запилила сервис для ботов с ИИ. Гугл взяла их под крылышко и сервис считается гугловым.</p><p>Сам сервис заточен конкретно на ботов, которые на нейронках генерят ответы пользователю. Собсна название говорит само за себя, однако! Однако еще в 2017 году я начал использовать его как аналитику для обычных ботов. Тогда выбор был не очень большой. Был Botan.io (эдакий мост между яндекс аппметрикой и ботами, раньше я использовал его, сейчас проект мёртв). К сожалению и chatbase не развивается, застрял в 17 году. Пытается выглядеть законченным продуктом.</p><p>Перейдём к его использованию. Быстро пробегусь по тому, что у нас есть. </p><p><strong>Платформа</strong>. Если ваш бот работает не только в <em>TG</em>, но и в других местах, можно легко отделять их друг от друга. Лично я живу только в TG, но использую эту возможность по максимуму. Я разделяю статистику пользователей из разных регионов. У некоторых пользователей бота доступно поле <em>language</em>. Поэтому платформы у меня <em>Telegram</em>, <em>Telegram-ru</em> и т.д.</p><p><strong>Версионность</strong>. Как и с платформой. Легко отделяем одну статистику от другой.</p><p><strong>Тип отправителя</strong>. Имеется агент и пользователь. При отправке сообщения юзеру шлём с типом агент, если юзер нам прислал - пользователь. Это построит нам целые переписки при анализе поведения пользователей.</p><p><strong>Намерение (Intents)</strong>. Изначально заточен для того, чтобы понять смысл сообщения пользователя. Например, что он с нами поздоровался. Я же использую как стейты того, что он сделал. Проще говоря, просто указываю имя хандлера, который обработал его сообщение. Указывать надо как при отправке сообщения юзера, так и бота, для связи этих двух сущностей.</p><p><strong>Not Handled</strong>. Можно передать с сообщением только с типом <em>user</em>. Сообщаем о том, что не поняли, что от нас хотят. Я использую как лог левых сообщений, на которых нет обработчиков (просто интересно). И как логирование ошибок.</p><p>Помимо всего этого конечно же мы указываем время, <em>ID</em> юзера. Я использую ID с телеги, а не из моей БД.</p><p>Стату можно собирать в пачу и отправлять одним запросом, что удобно (я ещё и в отдельных потоках это делаю).</p><p><strong>Прикрутили отправку статы и получили следующее:</strong></p><p>Активность юзеров, посещения, уники, кол-во сессий, авг сессий на юзера, среднее время на сессию, лог ошибок. Все это с фильтрами по версиям, датам, платформам. </p><p>Фигня, да? Согласен.</p><p>Переходим к самому интересному:<strong> session flow</strong>. Мы видим как пользователи передвигаются по нашему боту! Мы видим всё дерево от начало общения до последнего действия! Видим узкие места в юзабилити, как именно пользователи осуществляют переход к тому, или иному меню. <strong>Мы видим как нашим ботом пользуются!</strong> Сколько и куда пошло, сколько отвалилось. При желании можем открыть диалог с конкретным пользователем и проанализировать действия.</p><p>Что-нибудь еще? Дааа!</p><p><strong>FUNNELS</strong></p><p>Это цепочки наших <em>Intents</em>, которые мы создаем сами. Например, дефолт цепочкой юзера может быть: <code class=\"language-text\">Меню -> Умные плейлисты -> Плейлист дня -> Скачать текущую страницу</code></p><p>Я создаю такие цепочки из отправленных Intents и потом отслеживаю уровень их достижимости. Наблюдаю за тем, как люди поэтапно проходят по ней и сколько людей. Цепочкам можно задавать имена.</p><p><strong>ИТОГО</strong></p><p>Сервис пригоден для использования, всё красиво, современно, удобно. API простое и понятное, дока легка для понимания и полноценна. Правда, на сервисе как-то одиноко, складывается ощущение, что ты юзаешь что-то мёртвое... Я бы с удовольствием рассмотрел бы ещё другие варианты.</p><p>А что используете вы? ✨</p><p>UPD. Из пикчи сразу видно, что проблема с авторизацией, о которой я уже подробно писал, всё ещё есть</p><p>UPD2. Забыл рассказать о том, что не использую. Сервис ещё имеет трек ссылок. Т.е. если вы рассылаете линки, то можно оборачивать их через <em>chatbase</em> и смотреть переходы и т.д.</p>"}}},{"__typename":"PrismicPostBodyImage","slice_type":"image","id":"Prismic__PostBodyImage__Prismic__Post__XokvOBAAACIArbCH__body__1","primary":{"image":{"localFile":{"id":"bc695687-b14e-5ad6-9194-a44e756a0173","childImageSharp":{"id":"77e03217-8c60-5b56-858d-2175caeb3a77","fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwklEQVQoz11RS2sUQRCe/+fRH+NZTx49eMpFyCEI8SKyBISYTXQxuG5mycruZjbT8+iZfndXd80jBy/2bkCMUBQfxffVV49EAz4JF/YBqAC97zscjQ1XdfmNt1Lo1+v0fZ33fpCw5yT/iwGN72J2gClj54waaY/y7dt65224bJtUSvCdOjCfiCUgWjxepc+X013Lloyf0bJh8nIx/5ouHA5jGLrQR2XUm3/F0gXpO0rZLMtOaUmlXnExE1z7jhe1KmvlMFOmtE5Zv9OmcT55XC/mgONvfCBFZVzocQTA64ZOmlIydUyydy0BDR+rPLaTyn6oybyqDs6hcy5cF+TVZvGTFM73zPpYpxZybYWyN4wvhIj1IYzo+72T763DJM7AtS3vi8mv22c3X65IPuLDI8P5DnFwNpzmd6eURJAKsTXGAgoICkIyqcin26VlakmbN/l6VdOMyylvlYaz4v6IbDjX31k7E8xY//fa8YsOumRn7E4qcDgn5OV6vmnbc5K/2C4aCz/adtJUSrsLWn1m1BqITrFL3PmkzOZCJHG2GMp3VV6WF9Nqky05Pynucibi2fowmMPy1O2vUFtoI3AReO7CH1d9Fc9ZrYD8AAAAAElFTkSuQmCC","aspectRatio":1.9559543230016314,"src":"/static/341d90f3bdae5b912bd32dc87d7d0d78/9fb7a/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.png","srcSet":"/static/341d90f3bdae5b912bd32dc87d7d0d78/57fc3/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.png 300w,\n/static/341d90f3bdae5b912bd32dc87d7d0d78/f8eb5/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.png 600w,\n/static/341d90f3bdae5b912bd32dc87d7d0d78/9fb7a/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.png 1199w","srcWebp":"/static/341d90f3bdae5b912bd32dc87d7d0d78/ee616/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.webp","srcSetWebp":"/static/341d90f3bdae5b912bd32dc87d7d0d78/5ba9d/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.webp 300w,\n/static/341d90f3bdae5b912bd32dc87d7d0d78/6ef99/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.webp 600w,\n/static/341d90f3bdae5b912bd32dc87d7d0d78/ee616/3741ce49-dce7-4070-b758-19e87809fe77_CoFkDPs.webp 1199w","sizes":"(max-width: 1199px) 100vw, 1199px"}}}}}}]}},"posts":{"nodes":[{"id":"Prismic__Post__Xqg1KxEAACUAevMp","uid":"moy-preezd-chrome-firefox-vivaldi","data":{"title":{"text":"Мой переезд: Chrome -> FireFox -> Vivaldi"},"date":"28.04.2020","categories":[{"category":{"document":[{"id":"Prismic__Category__Xm56SBEAACIACBU1","uid":"mnenie-otnoshenie","data":{"name":"Мнение / Отношение"}}]}}]}},{"id":"Prismic__Post__XqXpBBEAACMAcLQJ","uid":"istoriya-revyu-zoom-us-bot","data":{"title":{"text":"История ревью @zoom_us_bot"},"date":"26.04.2020","categories":[{"category":{"document":[{"id":"Prismic__Category__Xor2ExAAACIAtY1w","uid":"zoom-telegram-integration","data":{"name":"Zoom Telegram Integration"}}]}}]}}]}},"pageContext":{"uid":"statistika-i-analitika-dlya-botov-na-primere-bota-yandeks-muzyki-i-servisa-chatbase"}}}